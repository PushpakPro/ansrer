(function(e,t){typeof define=="function"&&define.amd?define([],t(e)):typeof exports=="object"?module.exports=t(e):e.LazyLoad=t(e)})(typeof global!="undefined"?global:this.window||this.global,function(e){"use strict";const s={src:"data-src",srcset:"data-srcset",selector:".lazyload"},n=function(){let e={},s=!1,t=0,o=arguments.length;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(s=arguments[0],t++);let i=function(t){for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(s&&Object.prototype.toString.call(t[o])==="[object Object]"?e[o]=n(!0,e[o],t[o]):e[o]=t[o])};for(;t<o;t++){let e=arguments[t];i(e)}return e};function t(e,t){this.settings=n(s,t||{}),this.images=e||document.querySelectorAll(this.settings.selector),this.observer=null,this.init()}return t.prototype={init:function(){if(!e.IntersectionObserver){this.loadImages();return}let t=this,n={root:null,rootMargin:"0px",threshold:[0]};this.observer=new IntersectionObserver(function(e){e.forEach(function(e){if(e.intersectionRatio>0){t.observer.unobserve(e.target);let n=e.target.getAttribute(t.settings.src),s=e.target.getAttribute(t.settings.srcset);"img"===e.target.tagName.toLowerCase()?(n&&(e.target.src=n),s&&(e.target.srcset=s)):e.target.style.backgroundImage="url("+n+")"}})},n),this.images.forEach(function(e){t.observer.observe(e)})},loadAndDestroy:function(){if(!this.settings)return;this.loadImages(),this.destroy()},loadImages:function(){if(!this.settings)return;let e=this;this.images.forEach(function(t){let n=t.getAttribute(e.settings.src),s=t.getAttribute(e.settings.srcset);"img"===t.tagName.toLowerCase()?(n&&(t.src=n),s&&(t.srcset=s)):t.style.backgroundImage="url("+n+")"})},destroy:function(){if(!this.settings)return;this.observer.disconnect(),this.settings=null}},e.lazyload=function(e,n){return new t(e,n)},t}),function(){"use strict";function e(t,s){if(s=s||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=s.touchBoundary||10,this.layer=t,this.tapDelay=s.tapDelay||200,this.tapTimeout=s.tapTimeout||700,e.notNeeded(t))return;function c(e,t){return function(){return e.apply(t,arguments)}}o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],i=this;for(var o,i,r,a=0,l=o.length;a<l;a++)i[o[a]]=c(i[o[a]],i);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,s){var o=Node.prototype.removeEventListener;e==="click"?o.call(t,e,n.hijacked||n,s):o.call(t,e,n,s)},t.addEventListener=function(e,n,s){var o=Node.prototype.addEventListener;e==="click"?o.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),s):o.call(t,e,n,s)}),typeof t.onclick=="function"&&(r=t.onclick,t.addEventListener("click",function(e){r(e)},!1),t.onclick=null)}var s=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!s,t=/iP(ad|hone|od)/.test(navigator.userAgent)&&!s,o=t&&/OS 4_\d(_\d)?/.test(navigator.userAgent),i=t&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(t&&e.type==="file"||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,s;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=t.changedTouches[0],s=document.createEvent("MouseEvents"),s.initMouseEvent(this.determineEventType(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),s.forwardedTouchEvent=!0,e.dispatchEvent(s)},e.prototype.determineEventType=function(e){return n&&e.tagName.toLowerCase()==="select"?"mousedown":"click"},e.prototype.focus=function(e){var n;t&&e.setSelectionRange&&e.type.indexOf("date")!==0&&e.type!=="time"&&e.type!=="month"?(n=e.value.length,e.setSelectionRange(n,n)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n=e.fastClickScrollParent;if(!n||!n.contains(e)){t=e;do{if(t.scrollHeight>t.offsetHeight){n=t,e.fastClickScrollParent=t;break}t=t.parentElement}while(t)}n&&(n.fastClickLastScrollTop=n.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var n,s,i;if(e.targetTouches.length>1)return!0;if(s=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],t){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(s)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=s,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return e.control!==void 0?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var a,r,c,l,d,s=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,d=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,i&&(l=e.changedTouches[0],s=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||s,s.fastClickScrollParent=this.targetElement.fastClickScrollParent),a=s.tagName.toLowerCase(),a==="label"){if(c=this.findControl(s),c){if(this.focus(s),n)return!1;s=c}}else if(this.needsFocus(s))return e.timeStamp-d>100||t&&window.top!==window&&a==="input"?(this.targetElement=null,!1):(this.focus(s),this.sendClick(s,e),(!t||a!=="select")&&(this.targetElement=null,e.preventDefault()),!1);return!!(t&&!o&&(r=s.fastClickScrollParent,r&&r.fastClickLastScrollTop!==r.scrollTop))||(this.needsClick(s)||(e.preventDefault(),this.sendClick(s,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!this.targetElement||!!e.forwardedTouchEvent||!e.cancelable||!!this.needsClick(this.targetElement)&&!this.cancelNextClick||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1)},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):e.target.type==="submit"&&e.detail===0||(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,s,o,i;if(typeof window.ontouchstart=="undefined")return!0;if(s=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],s)if(n){if(t=document.querySelector("meta[name=viewport]"),t){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(s>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}else return!0;if(a&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(t=document.querySelector("meta[name=viewport]"),t))){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return e.style.msTouchAction==="none"||e.style.touchAction==="manipulation"||(i=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(i>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||e.style.touchAction==="none"||e.style.touchAction==="manipulation")},e.attach=function(t,n){return new e(t,n)},typeof define=="function"&&typeof define.amd=="object"&&define.amd?define(function(){return e}):typeof module!="undefined"&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}();function initGallery(){var t=document.body,n=document.querySelectorAll("a[rel=lightbox]"),e=document.createElement("div");e.classList.add("lightbox"),e.addEventListener("click",function(t){t.preventDefault(),destroy_lightbox(e)}),t.appendChild(e),Array.prototype.forEach.call(n,function(t){t.addEventListener("click",function(t){t.preventDefault(),lightbox(this,e)})})}function lightbox(e,t){var n=e.getAttribute("title"),s=e.getAttribute("data-lightbox");t.innerHTML="<img src="+s+">",t.innerHTML+="<p>"+n+"</p>",t.classList.toggle("__active")}function destroy_lightbox(e){e.classList.toggle("__active"),e.innerHTML=""}document.addEventListener("DOMContentLoaded",function(){"use strict";var e,n,s,o,a,r,c,l,t=document.querySelector("html"),i=document.querySelector("body"),d=document.querySelector(".page--footer");t.classList.remove("no-js"),"addEventListener"in document&&FastClick.attach(document.body),n=0,window.addEventListener("scroll",function(){var e=window.pageYOffset,t=document.body.clientHeight,s=window.innerHeight;e>n&&e>"90"&&n<t-s-100?i.classList.add("scroll"):i.classList.remove("scroll"),n=e}),e=document.querySelector(".post--featured > nav"),e&&e.addEventListener("scroll",function(){var n=e.scrollWidth,t=e.scrollLeft,s=e.clientWidth;e.classList.remove("__notscrolled"),t>n-s-40?(e.classList.remove("__right"),e.classList.add("__left")):t==0?(e.classList.remove("__left"),e.classList.add("__right")):(e.classList.add("__right"),e.classList.add("__left"))}),a=document.querySelector(".nav--primary-toggle > .icon-menu"),r=document.querySelector(".nav--primary-toggle > .icon-cancel"),a.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("nav-inactive"),t.classList.add("nav-active")}),r.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("nav-active"),t.classList.add("nav-inactive")}),[].forEach.call(document.querySelectorAll("a[href^=http]"),function(e){var t=e.href,n=window.location.hostname;t.includes(n)||e.setAttribute("target","_blank")}),s=document.querySelector("a[rel=toggle]"),s&&s.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href"),n=document.querySelector(t);n.classList.toggle("__active")}),c=Cookies.get("donate_nag"),c||t.classList.remove("__dontnag"),o=document.querySelector(".patreon_floater a.opt-out"),l=document.querySelector(".patreon_floater p.opt-out-text"),o&&o.addEventListener("click",function(e){e.preventDefault(),Cookies.set("donate_nag","hide",{expires:7}),t.classList.toggle("__dontnag")})});function offset(e){var t=e.getBoundingClientRect(),n=document.body;return{top:t.top+n.scrollTop,left:t.left+n.scrollLeft}}lazyload(),function(){ie="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},u="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&global!=null?global:this;function T(){T=function(){},u.Symbol||(u.Symbol=Ee)}le=0;function Ee(e){return"jscomp_symbol_"+(e||"")+le++}function O(){T();var e=u.Symbol.iterator;e||(e=u.Symbol.iterator=u.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&ie(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return Y(this)}}),O=function(){}}function Y(e){var t=0;return Ae(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})}function Ae(e){return O(),e={next:e},e[u.Symbol.iterator]=function(){return this},e}function ne(e){O(),T(),O();var t=e[Symbol.iterator];return t?t.call(e):Y(e)}function f(e){if(!(e instanceof Array)){e=ne(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}function je(e,t){function s(){}s.prototype=t.prototype,e.ha=t.prototype,e.prototype=new s,e.prototype.constructor=e;for(n in t)if(Object.defineProperties){var n,o=Object.getOwnPropertyDescriptor(t,n);o&&Object.defineProperty(e,n,o)}else e[n]=t[n]}m=window.Element.prototype,I=m.matches||m.matchesSelector||m.webkitMatchesSelector||m.mozMatchesSelector||m.msMatchesSelector||m.oMatchesSelector;function ae(e,t){if(e&&1==e.nodeType&&t){if("string"==typeof t||1==t.nodeType)return e==t||fe(e,t);if("length"in t)for(var n,s=0;n=t[s];s++)if(e==n||fe(e,n))return!0}return!1}function fe(e,t){if("string"!=typeof t)return!1;if(I)return I.call(e,t);t=e.parentNode.querySelectorAll(t);for(var s,n=0;s=t[n];n++)if(s==e)return!0;return!1}function Oe(e){for(var t=[];e&&e.parentNode&&1==e.parentNode.nodeType;)e=e.parentNode,t.push(e);return t}function V(e,t,n){function o(e){if(s.composed&&"function"==typeof e.composedPath)for(var o,r,a=e.composedPath(),i=0;r=a[i];i++)1==r.nodeType&&ae(r,t)&&(o=r);else a:{if((o=e.target)&&1==o.nodeType&&t)for(o=[o].concat(Oe(o)),a=0;i=o[a];a++)if(ae(i,t)){o=i;break a}o=void 0}o&&n.call(o,e,o)}var i=document,s={composed:!0,S:!0},s=void 0===s?{}:s;return i.addEventListener(e,o,s.S),{j:function(){i.removeEventListener(e,o,s.S)}}}function Se(e){var n,s,t={};if(!e||1!=e.nodeType)return t;if(e=e.attributes,!e.length)return{};for(n=0;s=e[n];n++)t[s.name]=s.value;return t}var e,t,o,d,u,h,m,g,b,j,_,w,C,k,F,z,I,ie,le,ze=/:(80|443)$/,n=document.createElement("a"),U={};function l(e){if(e=e&&"."!=e?e:location.href,U[e])return U[e];if(n.href=e,"."==e.charAt(0)||"/"==e.charAt(0))return l(n.href);var t="80"==n.port||"443"==n.port?"":n.port,t="0"==t?"":t,s=n.host.replace(ze,"");return U[e]={hash:n.hash,host:s,hostname:n.hostname,href:n.href,origin:n.origin?n.origin:n.protocol+"//"+s,pathname:"/"==n.pathname.charAt(0)?n.pathname:"/"+n.pathname,port:t,protocol:n.protocol,search:n.search}}j=[];function ce(e,t){var n=this;this.context=e,this.P=t,this.f=(this.c=/Task$/.test(t))?e.get(t):e[t],this.b=[],this.a=[],this.g=function(){for(var s=[],t=0;t<arguments.length;++t)s[t-0]=arguments[t];return n.a[n.a.length-1].apply(null,[].concat(f(s)))},this.c?e.set(t,this.g):e[t]=this.g}function c(e,t,n){e=ve(e,t),e.b.push(n),be(e)}function r(e,t,n){e=ve(e,t),n=e.b.indexOf(n),-1<n&&(e.b.splice(n,1),0<e.b.length?be(e):e.j())}function be(e){e.a=[];for(var n,s,t=0;n=e.b[t];t++)s=e.a[t-1]||e.f.bind(e.context),e.a.push(n(s))}ce.prototype.j=function(){var e=j.indexOf(this);-1<e&&(j.splice(e,1),this.c?this.context.set(this.P,this.f):this.context[this.P]=this.f)};function ve(e,t){var n=j.filter(function(n){return n.context==e&&n.P==t})[0];return n||(n=new ce(e,t),j.push(n)),n}function s(e,n,s,o,i,a){if("function"==typeof o){var r=s.get("buildHitTask");return{buildHitTask:function(t){t.set(e,null,!0),t.set(n,null,!0),o(t,i,a),r(t)}}}return t({},e,n)}function M(e,t){var n=Se(e),s={};return Object.keys(n).forEach(function(e){if(!e.indexOf(t)&&e!=t+"on"){var o=n[e];"true"==o&&(o=!0),"false"==o&&(o=!1),e=Ce(e.slice(t.length)),s[e]=o}}),s}function we(e){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):e()}function he(e,t){var n;return function(){for(var i=[],o=0;o<arguments.length;++o)i[o-0]=arguments[o];clearTimeout(n),n=setTimeout(function(){return e.apply(null,[].concat(f(i)))},t)}}function de(e){function t(){n||(n=!0,e())}var n=!1;return setTimeout(t,2e3),t}k={};function xe(e,t){function o(){clearTimeout(n.timeout),n.send&&r(e,"send",n.send),delete k[s],n.R.forEach(function(e){return e()})}var s=e.get("trackingId"),n=k[s]=k[s]||{};clearTimeout(n.timeout),n.timeout=setTimeout(o,0),n.R=n.R||[],n.R.push(t),n.send||(n.send=function(e){return function(){for(var s=[],n=0;n<arguments.length;++n)s[n-0]=arguments[n];o(),e.apply(null,[].concat(f(s)))}},c(e,"send",n.send))}t=Object.assign||function(e){for(var s,o,a,i=[],n=1;n<arguments.length;++n)i[n-1]=arguments[n];for(n=0,a=i.length;n<a;n++){s=Object(i[n]);for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e};function Ce(e){return e.replace(/[-_]+(\w?)/g,function(e,t){return t.toUpperCase()})}function P(e){return"object"==typeof e&&null!==e}_=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e)};function a(e,t){var n=window.GoogleAnalyticsObject||"ga";window[n]=window[n]||function(){for(var s=[],t=0;t<arguments.length;++t)s[t-0]=arguments[t];(window[n].q=window[n].q||[]).push(s)},window.gaDevIds=window.gaDevIds||[],0>window.gaDevIds.indexOf("i5iSjo")&&window.gaDevIds.push("i5iSjo"),window[n]("provide",e,t),window.gaplugins=window.gaplugins||{},window.gaplugins[e.charAt(0).toUpperCase()+e.slice(1)]=t}o={T:1,U:2,V:3,X:4,Y:5,Z:6,$:7,aa:8,ba:9,W:10},C=Object.keys(o).length;function i(e,t){e.set("&_av","2.4.1");var s,n=e.get("&_au"),n=parseInt(n||"0",16).toString(2);if(n.length<C)for(s=C-n.length;s;)n="0"+n,s--;t=C-t,n=n.substr(0,t)+1+n.substr(t+1),e.set("&_au",parseInt(n||"0",2).toString(16))}function y(e,n){i(e,o.T),this.a=t({},n),this.g=e,this.b=this.a.stripQuery&&this.a.queryDimensionIndex?"dimension"+this.a.queryDimensionIndex:null,this.f=this.f.bind(this),this.c=this.c.bind(this),c(e,"get",this.f),c(e,"buildHitTask",this.c)}y.prototype.f=function(e){var t=this;return function(n){if("page"==n||n==t.b){var s={location:e("location"),page:e("page")};return ee(t,s)[n]}return e(n)}},y.prototype.c=function(e){var t=this;return function(n){var s=ee(t,{location:n.get("location"),page:n.get("page")});n.set(s,null,!0),e(n)}};function ee(e,t){var o,s=l(t.page||t.location),n=s.pathname;return e.a.indexFilename&&(o=n.split("/"),e.a.indexFilename==o[o.length-1]&&(o[o.length-1]="",n=o.join("/"))),"remove"==e.a.trailingSlash?n=n.replace(/\/+$/,""):"add"==e.a.trailingSlash&&(/\.\w+$/.test(n)||"/"==n.substr(-1)||(n+="/")),n={page:n+(e.a.stripQuery?Te(e,s.search):s.search)},t.location&&(n.location=t.location),e.b&&(n[e.b]=s.search.slice(1)||"(not set)"),"function"==typeof e.a.urlFieldsFilter?(t=e.a.urlFieldsFilter(n,l),s={page:t.page,location:t.location},e.b&&(s[e.b]=t[e.b]),s):n}function Te(e,t){if(Array.isArray(e.a.queryParamsWhitelist)){var n=[];return t.slice(1).split("&").forEach(function(t){var s=ne(t.split("="));t=s.next().value,s=s.next().value,-1<e.a.queryParamsWhitelist.indexOf(t)&&s&&n.push([t,s])}),n.length?"?"+n.map(function(e){return e.join("=")}).join("&"):""}return""}y.prototype.remove=function(){r(this.g,"get",this.f),r(this.g,"buildHitTask",this.c)},a("cleanUrlTracker",y);function q(e,n){var a,s=this;i(e,o.U),window.addEventListener&&(this.a=t({events:["click"],fieldsObj:{},attributePrefix:"ga-"},n),this.f=e,this.c=this.c.bind(this),a="["+this.a.attributePrefix+"on]",this.b={},this.a.events.forEach(function(e){s.b[e]=V(e,a,s.c)}))}q.prototype.c=function(e,n){if(o=this.a.attributePrefix,!(0>n.getAttribute(o+"on").split(/\s*,\s*/).indexOf(e.type))){var o=M(n,o),i=t({},this.a.fieldsObj,o);this.f.send(o.hitType||"event",s({transport:"beacon"},i,this.f,this.a.hitFilter,n,e))}},q.prototype.remove=function(){var e=this;Object.keys(this.b).forEach(function(t){e.b[t].j()})},a("eventTracker",q);function oe(e,n){var s=this;i(e,o.V),window.IntersectionObserver&&window.MutationObserver&&(this.a=t({rootMargin:"0px",fieldsObj:{},attributePrefix:"ga-"},n),this.c=e,this.M=this.M.bind(this),this.O=this.O.bind(this),this.K=this.K.bind(this),this.L=this.L.bind(this),this.b=null,this.items=[],this.i={},this.h={},we(function(){s.a.elements&&s.observeElements(s.a.elements)}))}e=oe.prototype,e.observeElements=function(e){var n=this;e=H(this,e),this.items=this.items.concat(e.items),this.i=t({},e.i,this.i),this.h=t({},e.h,this.h),e.items.forEach(function(e){var t=n.h[e.threshold]=n.h[e.threshold]||new IntersectionObserver(n.O,{rootMargin:n.a.rootMargin,threshold:[+e.threshold]});(e=n.i[e.id]||(n.i[e.id]=document.getElementById(e.id)))&&t.observe(e)}),this.b||(this.b=new MutationObserver(this.M),this.b.observe(document.body,{childList:!0,subtree:!0})),requestAnimationFrame(function(){})},e.unobserveElements=function(e){var t,n,s=[],o=[];this.items.forEach(function(t){e.some(function(e){return e=Q(e),e.id===t.id&&e.threshold===t.threshold&&e.trackFirstImpressionOnly===t.trackFirstImpressionOnly})?o.push(t):s.push(t)}),s.length?(t=H(this,s),n=H(this,o),this.items=t.items,this.i=t.i,this.h=t.h,o.forEach(function(e){if(!t.i[e.id]){var o=n.h[e.threshold],s=n.i[e.id];s&&o.unobserve(s),t.h[e.threshold]||n.h[e.threshold].disconnect()}})):this.unobserveAllElements()},e.unobserveAllElements=function(){var e=this;Object.keys(this.h).forEach(function(t){e.h[t].disconnect()}),this.b.disconnect(),this.b=null,this.items=[],this.i={},this.h={}};function H(e,t){var n=[],s={},o={};return t.length&&t.forEach(function(t){t=Q(t),n.push(t),o[t.id]=e.i[t.id]||null,s[t.threshold]=e.h[t.threshold]||null}),{items:n,i:o,h:s}}e.M=function(e){for(var t,n,s,o=0;s=e[o];o++){for(t=0;n=s.removedNodes[t];t++)K(this,n,this.L);for(t=0;n=s.addedNodes[t];t++)K(this,n,this.K)}};function K(e,t,n){1==t.nodeType&&t.id in e.i&&n(t.id);for(var o,s=0;o=t.childNodes[s];s++)K(e,o,n)}e.O=function(e){for(var n,o,i,a,c,d,r=[],l=0;a=e[l];l++)for(c=0;o=this.items[c];c++)(n=a.target.id===o.id)&&((n=o.threshold)?n=a.intersectionRatio>=n:(n=a.intersectionRect,n=0<n.top||0<n.bottom||0<n.left||0<n.right)),n&&(i=o.id,n=document.getElementById(i),i={transport:"beacon",eventCategory:"Viewport",eventAction:"impression",eventLabel:i,nonInteraction:!0},d=t({},this.a.fieldsObj,M(n,this.a.attributePrefix)),this.c.send("event",s(i,d,this.c,this.a.hitFilter,n)),o.trackFirstImpressionOnly&&r.push(o));r.length&&this.unobserveElements(r)},e.K=function(e){var t=this,n=this.i[e]=document.getElementById(e);this.items.forEach(function(s){e==s.id&&t.h[s.threshold].observe(n)})},e.L=function(e){var t=this,n=this.i[e];this.items.forEach(function(s){e==s.id&&t.h[s.threshold].unobserve(n)}),this.i[e]=null},e.remove=function(){this.unobserveAllElements()},a("impressionTracker",oe);function Q(e){return"string"==typeof e&&(e={id:e}),t({threshold:0,trackFirstImpressionOnly:!0},e)}function Z(){this.a={}}function Me(e,t){(e.a.externalSet=e.a.externalSet||[]).push(t)}Z.prototype.ca=function(e){for(var s=[],n=1;n<arguments.length;++n)s[n-1]=arguments[n];(this.a[e]=this.a[e]||[]).forEach(function(e){return e.apply(null,[].concat(f(s)))})},d={},w=!1;function v(e,t){t=void 0===t?{}:t,this.a={},this.b=e,this.w=t,this.l=null}je(v,Z);function B(e,t,n){return e=["autotrack",e,t].join(":"),d[e]||(d[e]=new v(e,n),w||(window.addEventListener("storage",G),w=!0)),d[e]}function R(){if(g!=null)return g;try{window.localStorage.setItem("autotrack","autotrack"),window.localStorage.removeItem("autotrack"),g=!0}catch{g=!1}return g}v.prototype.get=function(){if(this.l)return this.l;if(R())try{this.l=N(window.localStorage.getItem(this.b))}catch{}return this.l=t({},this.w,this.l)},v.prototype.set=function(e){if(this.l=t({},this.w,this.l,e),R())try{var n=JSON.stringify(this.l);window.localStorage.setItem(this.b,n)}catch{}};function L(e){if(e.l={},R())try{window.localStorage.removeItem(e.b)}catch{}}v.prototype.j=function(){delete d[this.b],Object.keys(d).length||(window.removeEventListener("storage",G),w=!1)};function G(e){var s,n=d[e.key];n&&(s=t({},n.w,N(e.oldValue)),e=t({},n.w,N(e.newValue)),n.l=e,n.ca("externalSet",e,s))}function N(e){var t={};if(e)try{t=JSON.parse(e)}catch{}return t}b={};function A(e,t,n){this.f=e,this.timeout=t||F,this.timeZone=n,this.b=this.b.bind(this),c(e,"sendHitTask",this.b);try{this.c=new Intl.DateTimeFormat("en-US",{timeZone:this.timeZone})}catch{}this.a=B(e.get("trackingId"),"session",{hitTime:0,isExpired:!1}),this.a.get().id||this.a.set({id:_()})}function ue(e,t,n){var s=e.get("trackingId");return b[s]?b[s]:b[s]=new A(e,t,n)}function p(e){return e.a.get().id}A.prototype.isExpired=function(e){if(e=void 0===e?p(this):e,e!=p(this))return!0;if(e=this.a.get(),e.isExpired)return!0;var t=e.hitTime;return!!(t&&(e=new Date,t=new Date(t),e-t>6e4*this.timeout||this.c&&this.c.format(e)!=this.c.format(t)))},A.prototype.b=function(e){var t=this;return function(n){e(n),o=n.get("sessionControl"),n="start"==o||t.isExpired();var o="end"==o,s=t.a.get();s.hitTime=+new Date,n&&(s.isExpired=!1,s.id=_()),o&&(s.isExpired=!0),t.a.set(s)}},A.prototype.j=function(){r(this.f,"sendHitTask",this.b),this.a.j(),delete b[this.f.get("trackingId")]},F=30;function S(e,n){i(e,o.W),window.addEventListener&&(this.b=t({increaseThreshold:20,sessionTimeout:F,fieldsObj:{}},n),this.f=e,this.c=ge(this),this.g=he(this.g.bind(this),500),this.o=this.o.bind(this),this.a=B(e.get("trackingId"),"plugins/max-scroll-tracker"),this.m=ue(e,this.b.sessionTimeout,this.b.timeZone),c(e,"set",this.o),pe(this))}function pe(e){100>(e.a.get()[e.c]||0)&&window.addEventListener("scroll",e.g)}S.prototype.g=function(){var n,t=document.documentElement,e=document.body,t=Math.min(100,Math.max(0,Math.round(window.pageYOffset/(Math.max(t.offsetHeight,t.scrollHeight,e.offsetHeight,e.scrollHeight)-window.innerHeight)*100))),e=p(this.m);e!=this.a.get().sessionId&&(L(this.a),this.a.set({sessionId:e})),this.m.isExpired(this.a.get().sessionId)?L(this.a):(e=this.a.get()[this.c]||0,t>e&&(100!=t&&100!=e||window.removeEventListener("scroll",this.g),e=t-e,100==t||e>=this.b.increaseThreshold))&&(n={},this.a.set((n[this.c]=t,n.sessionId=p(this.m),n)),t={transport:"beacon",eventCategory:"Max Scroll",eventAction:"increase",eventValue:e,eventLabel:String(t),nonInteraction:!0},this.b.maxScrollMetricIndex&&(t["metric"+this.b.maxScrollMetricIndex]=e),this.f.send("event",s(t,this.b.fieldsObj,this.f,this.b.hitFilter)))},S.prototype.o=function(e){var t=this;return function(n,s){e(n,s);var o={};(P(n)?n:(o[n]=s,o)).page&&(n=t.c,t.c=ge(t),t.c!=n&&pe(t))}};function ge(e){return e=l(e.f.get("page")||e.f.get("location")),e.pathname+e.search}S.prototype.remove=function(){this.m.j(),window.removeEventListener("scroll",this.g),r(this.f,"set",this.o)},a("maxScrollTracker",S),z={};function D(e,n){i(e,o.X),window.matchMedia&&(this.a=t({changeTemplate:this.changeTemplate,changeTimeout:1e3,fieldsObj:{}},n),P(this.a.definitions)&&(n=this.a.definitions,this.a.definitions=Array.isArray(n)?n:[n],this.b=e,this.c=[],ye(this)))}function ye(e){e.a.definitions.forEach(function(t){if(t.name&&t.dimensionIndex){var n=re(t);e.b.set("dimension"+t.dimensionIndex,n),_e(e,t)}})}function re(e){var t;return e.items.forEach(function(e){me(e.media).matches&&(t=e)}),t?t.name:"(not set)"}function _e(e,t){t.items.forEach(function(n){n=me(n.media);var o=he(function(){var n=re(t),o=e.b.get("dimension"+t.dimensionIndex);n!==o&&(e.b.set("dimension"+t.dimensionIndex,n),n={transport:"beacon",eventCategory:t.name,eventAction:"change",eventLabel:e.a.changeTemplate(o,n),nonInteraction:!0},e.b.send("event",s(n,e.a.fieldsObj,e.b,e.a.hitFilter)))},e.a.changeTimeout);n.addListener(o),e.c.push({fa:n,da:o})})}D.prototype.remove=function(){for(var e,t=0;e=this.c[t];t++)e.fa.removeListener(e.da)},D.prototype.changeTemplate=function(e,t){return e+" => "+t},a("mediaQueryTracker",D);function me(e){return z[e]||(z[e]=window.matchMedia(e))}function E(e,n){i(e,o.Y),window.addEventListener&&(this.a=t({formSelector:"form",shouldTrackOutboundForm:this.shouldTrackOutboundForm,fieldsObj:{},attributePrefix:"ga-"},n),this.b=e,this.c=V("submit",this.a.formSelector,this.f.bind(this)))}E.prototype.f=function(e,n){var i,o={transport:"beacon",eventCategory:"Outbound Form",eventAction:"submit",eventLabel:l(n.action).href};this.a.shouldTrackOutboundForm(n,l)&&(navigator.sendBeacon||(e.preventDefault(),o.hitCallback=de(function(){n.submit()})),i=t({},this.a.fieldsObj,M(n,this.a.attributePrefix)),this.b.send("event",s(o,i,this.b,this.a.hitFilter,n,e)))},E.prototype.shouldTrackOutboundForm=function(e,t){return e=t(e.action),e.hostname!=location.hostname&&"http"==e.protocol.slice(0,4)},E.prototype.remove=function(){this.c.j()},a("outboundFormTracker",E);function x(e,n){var s=this;i(e,o.Z),window.addEventListener&&(this.a=t({events:["click"],linkSelector:"a, area",shouldTrackOutboundLink:this.shouldTrackOutboundLink,fieldsObj:{},attributePrefix:"ga-"},n),this.c=e,this.f=this.f.bind(this),this.b={},this.a.events.forEach(function(e){s.b[e]=V(e,s.a.linkSelector,s.f)}))}x.prototype.f=function(e,n){if(r=this,this.a.shouldTrackOutboundLink(n,l)){var a,r,c=n.getAttribute("href")||n.getAttribute("xlink:href"),i=l(c),i={transport:"beacon",eventCategory:"Outbound Link",eventAction:e.type,eventLabel:i.href},d=t({},this.a.fieldsObj,M(n,this.a.attributePrefix)),o=s(i,d,this.c,this.a.hitFilter,n,e);navigator.sendBeacon||"click"!=e.type||"_blank"==n.target||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||1<e.which?this.c.send("event",o):(a=function(){if(window.removeEventListener("click",a),!e.defaultPrevented){e.preventDefault();var t=o.hitCallback;o.hitCallback=de(function(){"function"==typeof t&&t(),location.href=c})}r.c.send("event",o)},window.addEventListener("click",a))}},x.prototype.shouldTrackOutboundLink=function(e,t){return e=e.getAttribute("href")||e.getAttribute("xlink:href"),t=t(e),t.hostname!=location.hostname&&"http"==t.protocol.slice(0,4)},x.prototype.remove=function(){var e=this;Object.keys(this.b).forEach(function(t){e.b[t].j()})},a("outboundLinkTracker",x),h=_();function se(e,n){var a=this;i(e,o.$),document.visibilityState&&(this.a=t({sessionTimeout:F,visibleThreshold:5e3,sendInitialPageview:!1,fieldsObj:{}},n),this.b=e,this.g=document.visibilityState,this.m=null,this.o=!1,this.v=this.v.bind(this),this.s=this.s.bind(this),this.G=this.G.bind(this),this.N=this.N.bind(this),this.c=B(e.get("trackingId"),"plugins/page-visibility-tracker"),Me(this.c,this.N),this.f=ue(e,this.a.sessionTimeout,this.a.timeZone),c(e,"set",this.v),window.addEventListener("unload",this.G),document.addEventListener("visibilitychange",this.s),xe(this.b,function(){if("visible"==document.visibilityState)a.a.sendInitialPageview&&($(a,{ea:!0}),a.o=!0),a.c.set({time:+new Date,state:"visible",pageId:h,sessionId:p(a.f)});else if(a.a.sendInitialPageview&&a.a.pageLoadsMetricIndex){var e={},e=(e.transport="beacon",e.eventCategory="Page Visibility",e.eventAction="page load",e.eventLabel="(not set)",e["metric"+a.a.pageLoadsMetricIndex]=1,e.nonInteraction=!0,e);a.b.send("event",s(e,a.a.fieldsObj,a.b,a.a.hitFilter))}}))}e=se.prototype,e.s=function(){if(t=this,"visible"==document.visibilityState||"hidden"==document.visibilityState){var t,e=ke(this),n={time:+new Date,state:document.visibilityState,pageId:h,sessionId:p(this.f)};"visible"==document.visibilityState&&this.a.sendInitialPageview&&!this.o&&($(this),this.o=!0),"hidden"==document.visibilityState&&this.m&&clearTimeout(this.m),this.f.isExpired(e.sessionId)?(L(this.c),"hidden"==this.g&&"visible"==document.visibilityState&&(clearTimeout(this.m),this.m=setTimeout(function(){t.c.set(n),$(t,{hitTime:n.time})},this.a.visibleThreshold))):(e.pageId==h&&"visible"==e.state&&te(this,e),this.c.set(n)),this.g=document.visibilityState}};function ke(e){var t=e.c.get();return"visible"==e.g&&"hidden"==t.state&&t.pageId!=h&&(t.state="visible",t.pageId=h,e.c.set(t)),t}function te(e,t,n){n=(n||{}).hitTime;var o={hitTime:n},o=(o||{}).hitTime;(t=t.time?(o||+new Date)-t.time:0)&&t>=e.a.visibleThreshold&&(t=Math.round(t/1e3),o={transport:"beacon",nonInteraction:!0,eventCategory:"Page Visibility",eventAction:"track",eventValue:t,eventLabel:"(not set)"},n&&(o.queueTime=+new Date-n),e.a.visibleMetricIndex&&(o["metric"+e.a.visibleMetricIndex]=t),e.b.send("event",s(o,e.a.fieldsObj,e.b,e.a.hitFilter)))}function $(e,t){n=t||{},t=n.hitTime;var n=n.ea,o={transport:"beacon"};t&&(o.queueTime=+new Date-t),n&&e.a.pageLoadsMetricIndex&&(o["metric"+e.a.pageLoadsMetricIndex]=1),e.b.send("pageview",s(o,e.a.fieldsObj,e.b,e.a.hitFilter))}e.v=function(e){var t=this;return function(n,s){var o={},o=P(n)?n:(o[n]=s,o);o.page&&o.page!==t.b.get("page")&&"visible"==t.g&&t.s(),e(n,s)}},e.N=function(e,t){e.time!=t.time&&(t.pageId!=h||"visible"!=t.state||this.f.isExpired(t.sessionId)||te(this,t,{hitTime:e.time}))},e.G=function(){"hidden"!=this.g&&this.s()},e.remove=function(){this.c.j(),this.f.j(),r(this.b,"set",this.v),window.removeEventListener("unload",this.G),document.removeEventListener("visibilitychange",this.s)},a("pageVisibilityTracker",se);function J(e,n){i(e,o.aa),window.addEventListener&&(this.a=t({fieldsObj:{},hitFilter:null},n),this.b=e,this.u=this.u.bind(this),this.J=this.J.bind(this),this.D=this.D.bind(this),this.A=this.A.bind(this),this.B=this.B.bind(this),this.F=this.F.bind(this),"complete"!=document.readyState?window.addEventListener("load",this.u):this.u())}e=J.prototype,e.u=function(){if(window.FB)try{window.FB.Event.subscribe("edge.create",this.B),window.FB.Event.subscribe("edge.remove",this.F)}catch{}window.twttr&&this.J()},e.J=function(){var e=this;try{window.twttr.ready(function(){window.twttr.events.bind("tweet",e.D),window.twttr.events.bind("follow",e.A)})}catch{}};function Fe(e){try{window.twttr.ready(function(){window.twttr.events.unbind("tweet",e.D),window.twttr.events.unbind("follow",e.A)})}catch{}}e.D=function(e){if("tweet"==e.region){var t={transport:"beacon",socialNetwork:"Twitter",socialAction:"tweet",socialTarget:e.data.url||e.target.getAttribute("data-url")||location.href};this.b.send("social",s(t,this.a.fieldsObj,this.b,this.a.hitFilter,e.target,e))}},e.A=function(e){if("follow"==e.region){var t={transport:"beacon",socialNetwork:"Twitter",socialAction:"follow",socialTarget:e.data.screen_name||e.target.getAttribute("data-screen-name")};this.b.send("social",s(t,this.a.fieldsObj,this.b,this.a.hitFilter,e.target,e))}},e.B=function(e){this.b.send("social",s({transport:"beacon",socialNetwork:"Facebook",socialAction:"like",socialTarget:e},this.a.fieldsObj,this.b,this.a.hitFilter))},e.F=function(e){this.b.send("social",s({transport:"beacon",socialNetwork:"Facebook",socialAction:"unlike",socialTarget:e},this.a.fieldsObj,this.b,this.a.hitFilter))},e.remove=function(){window.removeEventListener("load",this.u);try{window.FB.Event.unsubscribe("edge.create",this.B),window.FB.Event.unsubscribe("edge.remove",this.F)}catch{}Fe(this)},a("socialWidgetTracker",J);function X(e,n){i(e,o.ba),history.pushState&&window.addEventListener&&(this.a=t({shouldTrackUrlChange:this.shouldTrackUrlChange,trackReplaceState:!1,fieldsObj:{},hitFilter:null},n),this.b=e,this.c=location.pathname+location.search,this.H=this.H.bind(this),this.I=this.I.bind(this),this.C=this.C.bind(this),c(history,"pushState",this.H),c(history,"replaceState",this.I),window.addEventListener("popstate",this.C))}e=X.prototype,e.H=function(e){var t=this;return function(){for(var o=[],s=0;s<arguments.length;++s)o[s-0]=arguments[s];e.apply(null,[].concat(f(o))),W(t,!0)}},e.I=function(e){var t=this;return function(){for(var o=[],s=0;s<arguments.length;++s)o[s-0]=arguments[s];e.apply(null,[].concat(f(o))),W(t,!1)}},e.C=function(){W(this,!0)};function W(e,t){setTimeout(function(){var o=e.c,n=location.pathname+location.search;o!=n&&e.a.shouldTrackUrlChange.call(e,n,o)&&(e.c=n,e.b.set({page:n,title:document.title}),(t||e.a.trackReplaceState)&&e.b.send("pageview",s({transport:"beacon"},e.a.fieldsObj,e.b,e.a.hitFilter)))},0)}e.shouldTrackUrlChange=function(e,t){return!!e&&!!t},e.remove=function(){r(history,"pushState",this.H),r(history,"replaceState",this.I),window.removeEventListener("popstate",this.C)},a("urlChangeTracker",X)}(),function(e){var n,s,t=!1;typeof define=="function"&&define.amd&&(define(e),t=!0),typeof exports=="object"&&(module.exports=e(),t=!0),t||(s=window.Cookies,n=window.Cookies=e(),n.noConflict=function(){return window.Cookies=s,n})}(function(){function e(){for(var t,s,e=0,n={};e<arguments.length;e++){t=arguments[e];for(s in t)n[s]=t[s]}return n}function t(n){function s(t,o,i){if(typeof document=="undefined")return;if(arguments.length>1){if(i=e({path:"/"},s.defaults,i),typeof i.expires=="number"){var a,r,c,l,d,u,m,f,p,h=new Date;h.setMilliseconds(h.getMilliseconds()+i.expires*864e5),i.expires=h}i.expires=i.expires?i.expires.toUTCString():"";try{r=JSON.stringify(o),/^[{[]/.test(r)&&(o=r)}catch{}n.write?o=n.write(o,t):o=encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[()]/g,escape),l="";for(d in i){if(!i[d])continue;if(l+="; "+d,i[d]===!0)continue;l+="="+i[d]}return document.cookie=t+"="+o+l}for(t||(r={}),m=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,u=0;u<m.length;u++){p=m[u].split("="),a=p.slice(1).join("="),!this.json&&a.charAt(0)==='"'&&(a=a.slice(1,-1));try{if(c=p[0].replace(f,decodeURIComponent),a=n.read?n.read(a,c):n(a,c)||a.replace(f,decodeURIComponent),this.json)try{a=JSON.parse(a)}catch{}if(t===c){r=a;break}t||(r[c]=a)}catch{}}return r}return s.set=s,s.get=function(e){return s.call(s,e)},s.getJSON=function(){return s.apply({json:!0},[].slice.call(arguments))},s.defaults={},s.remove=function(t,n){s(t,"",e(n,{expires:-1}))},s.withConverter=t,s}return t(function(){})})